{% extends "base.html" %}

{% block title %}Ask Question - StackIt{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto px-4 py-8">
    <div class="bg-white shadow-md rounded-lg p-6">
        <h2 class="text-2xl font-bold mb-6 text-blue-700">Ask a Question</h2>
        
        <form method="POST" class="space-y-6">
            <!-- Title -->
            <div>
                <label for="title" class="block text-sm font-medium text-gray-700 mb-1">
                    Question Title
                </label>
                <input type="text" id="title" name="title"
                       placeholder="What's your question? Be specific."
                       required
                       class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
            </div>

            <!-- Content -->
            <div>
                <label for="content" class="block text-sm font-medium text-gray-700 mb-1">
                    Details
                </label>
                <textarea id="content" name="content" class="ckeditor w-full rounded-md border border-gray-300"></textarea>
            </div>

            <!-- Tags -->
            <div>
                <label for="tags" class="block text-sm font-medium text-gray-700 mb-1">
                    Tags (comma separated)
                </label>
                <input type="text" id="tags" name="tags"
                       placeholder="e.g., python, flask, web-development"
                       class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                <p class="text-xs text-gray-500 mt-1">Add up to 5 tags to describe your question</p>
            </div>

            <!-- Category -->
            <div>
                <label for="category_id" class="block text-sm font-medium text-gray-700 mb-1">
                    Category (optional)
                </label>
                <select id="category_id" name="category_id"
                        class="w-full px-4 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    <option value="">Select a category</option>
                    {% for category in categories %}
                        <option value="{{ category.id }}">{{ category.name }}</option>
                    {% endfor %}
                </select>
            </div>

            <!-- Submit -->
            <button type="submit"
                    class="w-full py-2 px-4 bg-blue-600 text-white font-semibold rounded hover:bg-blue-700 transition">
                Post Question
            </button>
        </form>
    </div>
</div>

<!-- Initialize CKEditor -->
<script src="https://cdn.ckeditor.com/4.16.2/standard/ckeditor.js"></script>
<script>
    CKEDITOR.replace('content', {
        filebrowserUploadUrl: '/upload',
        filebrowserUploadMethod: 'form'
    });
</script>
{% endblock %}
